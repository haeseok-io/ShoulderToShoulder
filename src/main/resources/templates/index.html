<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultrag.net.nz/thymeleaf/layout" layout:decorate="~{fragment/layout}">

<th:block layout:fragment="css">
    <link rel="stylesheet" href="/css/moimList.css">
    <style>
        .banner { position: relative; width: 100%; overflow: hidden; }
        .banner .swiper-wrapper {}
        .banner .swiper-wrapper .swiper-slide { width: 100%; height: 400px; }
        .banner .swiper-wrapper .swiper-slide img { width: 100%; height: 100%; object-fit: cover; }
    </style>
</th:block>

<th:block layout:fragment="js">
    <script src="/js/moimList.js"></script>
    <script>
        $(() => {
            callMoimBestList();
        });

        const callMoimBestList = () => {
            getMoimListData($(".moimList"), $("#moimListTemplate"), {
                "pageRequest.page": 1,
                "pageRequest.scale": 8,
                sortField: "hits",
                sortType: "desc",
                status: ["W"]
            }, null);
        }
    </script>
</th:block>

<th:block layout:fragment="container">
    <section class="banner">
        <div class="slider">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <img src="/images/banner01.png" alt="">
                </div>
            </div>
        </div>
    </section>
    <main id="main">
        <div class="container">
            <div class="wrapper weekBest">
                <div class="mainTitle">
                    <div class="subject">
                        <p>인기 모임</p>
                        <p class="desc">현재 가장 인기있는 모임을 만나보세요!</p>
                    </div>
                    <div class="etc">
                        <a href="/moim/" class="more">전체 모임 보기</a>
                    </div>
                </div>
                <div class="content">
                    <ul class="moimList"></ul>
                </div>
            </div>
        </div>
    </main>

    <template id="moimListTemplate">
        <th:block th:replace="fragment/moim/moimList :: moimList"></th:block>
    </template>
</th:block>
</html>